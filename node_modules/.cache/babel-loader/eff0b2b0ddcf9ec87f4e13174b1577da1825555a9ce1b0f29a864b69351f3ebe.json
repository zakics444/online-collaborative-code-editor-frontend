{"ast":null,"code":"import _t from \"@monaco-editor/loader\";\nimport { memo as Te } from \"react\";\nimport ke, { useState as re, useRef as S, useCallback as oe, useEffect as ne } from \"react\";\nimport Se from \"@monaco-editor/loader\";\nimport { memo as ye } from \"react\";\nimport K from \"react\";\nvar le = {\n    wrapper: {\n      display: \"flex\",\n      position: \"relative\",\n      textAlign: \"initial\"\n    },\n    fullWidth: {\n      width: \"100%\"\n    },\n    hide: {\n      display: \"none\"\n    }\n  },\n  v = le;\nimport me from \"react\";\nvar ae = {\n    container: {\n      display: \"flex\",\n      height: \"100%\",\n      width: \"100%\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    }\n  },\n  Y = ae;\nfunction Me(_ref) {\n  let {\n    children: e\n  } = _ref;\n  return me.createElement(\"div\", {\n    style: Y.container\n  }, e);\n}\nvar Z = Me;\nvar $ = Z;\nfunction Ee(_ref2) {\n  let {\n    width: e,\n    height: r,\n    isEditorReady: n,\n    loading: t,\n    _ref: a,\n    className: m,\n    wrapperProps: E\n  } = _ref2;\n  return K.createElement(\"section\", {\n    style: {\n      ...v.wrapper,\n      width: e,\n      height: r\n    },\n    ...E\n  }, !n && K.createElement($, null, t), K.createElement(\"div\", {\n    ref: a,\n    style: {\n      ...v.fullWidth,\n      ...(!n && v.hide)\n    },\n    className: m\n  }));\n}\nvar ee = Ee;\nvar H = ye(ee);\nimport { useEffect as xe } from \"react\";\nfunction Ce(e) {\n  xe(e, []);\n}\nvar k = Ce;\nimport { useEffect as ge, useRef as Re } from \"react\";\nfunction he(e, r) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n  let t = Re(!0);\n  ge(t.current || !n ? () => {\n    t.current = !1;\n  } : e, r);\n}\nvar l = he;\nfunction D() {}\nfunction h(e, r, n, t) {\n  return De(e, t) || be(e, r, n, t);\n}\nfunction De(e, r) {\n  return e.editor.getModel(te(e, r));\n}\nfunction be(e, r, n, t) {\n  return e.editor.createModel(r, n, t ? te(e, t) : void 0);\n}\nfunction te(e, r) {\n  return e.Uri.parse(r);\n}\nfunction Oe(_ref3) {\n  let {\n    original: e,\n    modified: r,\n    language: n,\n    originalLanguage: t,\n    modifiedLanguage: a,\n    originalModelPath: m,\n    modifiedModelPath: E,\n    keepCurrentOriginalModel: g = !1,\n    keepCurrentModifiedModel: N = !1,\n    theme: x = \"light\",\n    loading: P = \"Loading...\",\n    options: y = {},\n    height: V = \"100%\",\n    width: z = \"100%\",\n    className: F,\n    wrapperProps: j = {},\n    beforeMount: A = D,\n    onMount: q = D\n  } = _ref3;\n  let [M, O] = re(!1),\n    [T, s] = re(!0),\n    u = S(null),\n    c = S(null),\n    w = S(null),\n    d = S(q),\n    o = S(A),\n    b = S(!1);\n  k(() => {\n    let i = Se.init();\n    return i.then(f => (c.current = f) && s(!1)).catch(f => f?.type !== \"cancelation\" && console.error(\"Monaco initialization: error:\", f)), () => u.current ? I() : i.cancel();\n  }), l(() => {\n    if (u.current && c.current) {\n      let i = u.current.getOriginalEditor(),\n        f = h(c.current, e || \"\", t || n || \"text\", m || \"\");\n      f !== i.getModel() && i.setModel(f);\n    }\n  }, [m], M), l(() => {\n    if (u.current && c.current) {\n      let i = u.current.getModifiedEditor(),\n        f = h(c.current, r || \"\", a || n || \"text\", E || \"\");\n      f !== i.getModel() && i.setModel(f);\n    }\n  }, [E], M), l(() => {\n    let i = u.current.getModifiedEditor();\n    i.getOption(c.current.editor.EditorOption.readOnly) ? i.setValue(r || \"\") : r !== i.getValue() && (i.executeEdits(\"\", [{\n      range: i.getModel().getFullModelRange(),\n      text: r || \"\",\n      forceMoveMarkers: !0\n    }]), i.pushUndoStop());\n  }, [r], M), l(() => {\n    u.current?.getModel()?.original.setValue(e || \"\");\n  }, [e], M), l(() => {\n    let {\n      original: i,\n      modified: f\n    } = u.current.getModel();\n    c.current.editor.setModelLanguage(i, t || n || \"text\"), c.current.editor.setModelLanguage(f, a || n || \"text\");\n  }, [n, t, a], M), l(() => {\n    c.current?.editor.setTheme(x);\n  }, [x], M), l(() => {\n    u.current?.updateOptions(y);\n  }, [y], M);\n  let L = oe(() => {\n      if (!c.current) return;\n      o.current(c.current);\n      let i = h(c.current, e || \"\", t || n || \"text\", m || \"\"),\n        f = h(c.current, r || \"\", a || n || \"text\", E || \"\");\n      u.current?.setModel({\n        original: i,\n        modified: f\n      });\n    }, [n, r, a, e, t, m, E]),\n    U = oe(() => {\n      !b.current && w.current && (u.current = c.current.editor.createDiffEditor(w.current, {\n        automaticLayout: !0,\n        ...y\n      }), L(), c.current?.editor.setTheme(x), O(!0), b.current = !0);\n    }, [y, x, L]);\n  ne(() => {\n    M && d.current(u.current, c.current);\n  }, [M]), ne(() => {\n    !T && !M && U();\n  }, [T, M, U]);\n  function I() {\n    let i = u.current?.getModel();\n    g || i?.original?.dispose(), N || i?.modified?.dispose(), u.current?.dispose();\n  }\n  return ke.createElement(H, {\n    width: z,\n    height: V,\n    isEditorReady: M,\n    loading: P,\n    _ref: w,\n    className: F,\n    wrapperProps: j\n  });\n}\nvar ie = Oe;\nvar we = Te(ie);\nimport { useState as Ie } from \"react\";\nimport ce from \"@monaco-editor/loader\";\nfunction Pe() {\n  let [e, r] = Ie(ce.__getMonacoInstance());\n  return k(() => {\n    let n;\n    return e || (n = ce.init(), n.then(t => {\n      r(t);\n    })), () => n?.cancel();\n  }), e;\n}\nvar Le = Pe;\nimport { memo as ze } from \"react\";\nimport We, { useState as ue, useEffect as W, useRef as C, useCallback as _e } from \"react\";\nimport Ne from \"@monaco-editor/loader\";\nimport { useEffect as Ue, useRef as ve } from \"react\";\nfunction He(e) {\n  let r = ve();\n  return Ue(() => {\n    r.current = e;\n  }, [e]), r.current;\n}\nvar se = He;\nvar _ = new Map();\nfunction Ve(_ref4) {\n  let {\n    defaultValue: e,\n    defaultLanguage: r,\n    defaultPath: n,\n    value: t,\n    language: a,\n    path: m,\n    theme: E = \"light\",\n    line: g,\n    loading: N = \"Loading...\",\n    options: x = {},\n    overrideServices: P = {},\n    saveViewState: y = !0,\n    keepCurrentModel: V = !1,\n    width: z = \"100%\",\n    height: F = \"100%\",\n    className: j,\n    wrapperProps: A = {},\n    beforeMount: q = D,\n    onMount: M = D,\n    onChange: O,\n    onValidate: T = D\n  } = _ref4;\n  let [s, u] = ue(!1),\n    [c, w] = ue(!0),\n    d = C(null),\n    o = C(null),\n    b = C(null),\n    L = C(M),\n    U = C(q),\n    I = C(),\n    i = C(t),\n    f = se(m),\n    Q = C(!1),\n    B = C(!1);\n  k(() => {\n    let p = Ne.init();\n    return p.then(R => (d.current = R) && w(!1)).catch(R => R?.type !== \"cancelation\" && console.error(\"Monaco initialization: error:\", R)), () => o.current ? pe() : p.cancel();\n  }), l(() => {\n    let p = h(d.current, e || t || \"\", r || a || \"\", m || n || \"\");\n    p !== o.current?.getModel() && (y && _.set(f, o.current?.saveViewState()), o.current?.setModel(p), y && o.current?.restoreViewState(_.get(m)));\n  }, [m], s), l(() => {\n    o.current?.updateOptions(x);\n  }, [x], s), l(() => {\n    !o.current || t === void 0 || (o.current.getOption(d.current.editor.EditorOption.readOnly) ? o.current.setValue(t) : t !== o.current.getValue() && (B.current = !0, o.current.executeEdits(\"\", [{\n      range: o.current.getModel().getFullModelRange(),\n      text: t,\n      forceMoveMarkers: !0\n    }]), o.current.pushUndoStop(), B.current = !1));\n  }, [t], s), l(() => {\n    let p = o.current?.getModel();\n    p && a && d.current?.editor.setModelLanguage(p, a);\n  }, [a], s), l(() => {\n    g !== void 0 && o.current?.revealLine(g);\n  }, [g], s), l(() => {\n    d.current?.editor.setTheme(E);\n  }, [E], s);\n  let X = _e(() => {\n    if (!(!b.current || !d.current) && !Q.current) {\n      U.current(d.current);\n      let p = m || n,\n        R = h(d.current, t || e || \"\", r || a || \"\", p || \"\");\n      o.current = d.current?.editor.create(b.current, {\n        model: R,\n        automaticLayout: !0,\n        ...x\n      }, P), y && o.current.restoreViewState(_.get(p)), d.current.editor.setTheme(E), g !== void 0 && o.current.revealLine(g), u(!0), Q.current = !0;\n    }\n  }, [e, r, n, t, a, m, x, P, y, E, g]);\n  W(() => {\n    s && L.current(o.current, d.current);\n  }, [s]), W(() => {\n    !c && !s && X();\n  }, [c, s, X]), i.current = t, W(() => {\n    s && O && (I.current?.dispose(), I.current = o.current?.onDidChangeModelContent(p => {\n      B.current || O(o.current.getValue(), p);\n    }));\n  }, [s, O]), W(() => {\n    if (s) {\n      let p = d.current.editor.onDidChangeMarkers(R => {\n        let G = o.current.getModel()?.uri;\n        if (G && R.find(J => J.path === G.path)) {\n          let J = d.current.editor.getModelMarkers({\n            resource: G\n          });\n          T?.(J);\n        }\n      });\n      return () => {\n        p?.dispose();\n      };\n    }\n    return () => {};\n  }, [s, T]);\n  function pe() {\n    I.current?.dispose(), V ? y && _.set(m, o.current.saveViewState()) : o.current.getModel()?.dispose(), o.current.dispose();\n  }\n  return We.createElement(H, {\n    width: z,\n    height: F,\n    isEditorReady: s,\n    loading: N,\n    _ref: b,\n    className: j,\n    wrapperProps: A\n  });\n}\nvar fe = Ve;\nvar de = ze(fe);\nvar Ft = de;\nexport { we as DiffEditor, de as Editor, Ft as default, _t as loader, Le as useMonaco };","map":{"version":3,"names":["_t","memo","Te","ke","useState","re","useRef","S","useCallback","oe","useEffect","ne","Se","ye","K","le","wrapper","display","position","textAlign","fullWidth","width","hide","v","me","ae","container","height","justifyContent","alignItems","Y","Me","_ref","children","e","createElement","style","Z","$","Ee","_ref2","r","isEditorReady","n","loading","t","a","className","m","wrapperProps","E","ref","ee","H","xe","Ce","k","ge","Re","he","arguments","length","undefined","current","l","D","h","De","be","editor","getModel","te","createModel","Uri","parse","Oe","_ref3","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","g","keepCurrentModifiedModel","N","theme","x","P","options","y","V","z","F","j","beforeMount","A","onMount","q","M","O","T","s","u","c","w","d","o","b","i","init","then","f","catch","type","console","error","I","cancel","getOriginalEditor","setModel","getModifiedEditor","getOption","EditorOption","readOnly","setValue","getValue","executeEdits","range","getFullModelRange","text","forceMoveMarkers","pushUndoStop","setModelLanguage","setTheme","updateOptions","L","U","createDiffEditor","automaticLayout","dispose","ie","we","Ie","ce","Pe","__getMonacoInstance","Le","ze","We","ue","W","C","_e","Ne","Ue","ve","He","se","_","Map","Ve","_ref4","defaultValue","defaultLanguage","defaultPath","value","path","line","overrideServices","saveViewState","keepCurrentModel","onChange","onValidate","Q","B","p","R","pe","set","restoreViewState","get","revealLine","X","create","model","onDidChangeModelContent","onDidChangeMarkers","G","uri","find","J","getModelMarkers","resource","fe","de","Ft","DiffEditor","Editor","default","loader","useMonaco"],"sources":["C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\DiffEditor\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\DiffEditor\\DiffEditor.tsx","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\MonacoContainer.tsx","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\MonacoContainer\\styles.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\Loading\\Loading.tsx","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\Loading\\styles.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\Loading\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\hooks\\useMount\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\hooks\\useUpdate\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\utils\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\hooks\\useMonaco\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\Editor\\index.ts","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\Editor\\Editor.tsx","C:\\project final\\frontend\\node_modules\\@monaco-editor\\react\\src\\hooks\\usePrevious\\index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","'use client';\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  theme = 'light',\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      monacoRef.current?.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, theme, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  theme = 'light',\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      monacoRef.current.editor.setTheme(theme);\n\n      if (line !== undefined) {\n        editorRef.current.revealLine(line);\n      }\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n    theme,\n    line,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}